{
  "title": "利用大型语言模型迭代学习可计算的表型，以治疗耐药性高血压",
  "detailed_summary": "本文探讨了大型语言模型(LLM)在生成可解释的可计算表型(CP)方面的潜力，特别是在高血压治疗领域。研究提出了一种*合成、执行、调试、指导*(SEDI)的迭代策略，利用LLM生成CP，并通过数据驱动的反馈不断优化。研究评估了LLM在六种不同复杂程度的临床表型上的零样本表现，并将其与传统机器学习方法进行比较。结果表明，结合迭代学习，LLM能够生成具有可解释性的、相当精确的程序，其性能接近最先进的机器学习方法，同时需要的训练样本显著减少。该研究强调了LLM在自动化CP生成和临床决策支持方面的潜力，特别是在标签数据成本高昂的医疗领域。",
  "background": "可计算表型(CP)是识别患者电子病历数据中可观察特征的算法结构，对于临床决策支持至关重要。然而，传统的手动构建CP方法耗时耗力，难以扩展和适应不同临床实践。大型语言模型(LLM)在医学文献和结构化数据集上进行训练，并在医学问答任务中表现出色，因此有望自动生成CP。以往研究主要集中于使用LLM进行预测任务和医学问答，而利用LLM生成CP的研究相对较少。本文旨在探讨LLM在生成CP方面的能力，并与专家和机器学习方法进行比较。",
  "contributions": [
    "提出了一种新颖的迭代学习策略(SEDI)，利用LLM自动生成和优化可计算表型(CP)。",
    "验证了LLM在生成高血压相关疾病(包括HTN, HTN-HypoK, aTRH)的CP方面的可行性。",
    "对比了LLM生成的CP与传统机器学习方法(如决策树、逻辑回归和符号回归)的性能和可解释性。",
    "证明了通过结合SEDI策略，LLM生成的CP在性能上可以接近甚至超过最先进的机器学习方法，同时保持了良好的可解释性。",
    "强调了LLM在减少手动特征工程和促进可扩展临床决策支持方面的潜力，尤其是在数据标注成本高昂的医疗领域。"
  ],
  "problem": "传统的可计算表型（CP）构建方法需要临床专家和数据分析师花费大量时间和精力，无法有效地扩展到不同的表型，并且难以适应不同临床实践或随时间变化。因此，如何利用人工智能技术自动生成可解释、准确且高效的CP是一个亟待解决的问题。",
  "methods": [
    "**零样本提示(Zero-shot prompts):** LLM直接根据提供的特征生成Python函数，用于预测表型的概率，不接收任何反馈。",
    "**SEDI提示(SEDI prompts):** 采用合成-执行-调试-指导(SEDI)循环，LLM迭代接收CP在训练数据集上的表现反馈。如果CP执行失败，LLM接收包含错误回溯的消息进行调试。如果CP执行成功，LLM接收性能指标以及假阳性(FP)和假阴性(FN)案例，并根据这些信息改进表型定义。",
    "**Prompt构建:**  通过两种模式构建提示：简单提示和详细提示。简单提示只包含表型的名称，而详细提示则包含表型的详细描述。",
    "**Feature的选择:**  使用全部特征和专家特征子集两种设置，其中专家特征子集是基于专家知识选择的，与表型的定义密切相关。"
  ],
  "experimental_design": {
    "实验设置": "使用宾夕法尼亚大学医疗系统(UPHS)的1200名患者的电子健康记录(EHR)数据。这些数据包括人口统计学和临床特征，例如年龄、性别、种族、医院距离、体重、BMI、血压以及在就诊期间出现高血压(收缩压/舒张压≥140/90 mmHg)的次数。",
    "数据集": "数据集包含总共331个从EHR数据中提取的特征。纵向特征被汇总为最小值、最大值、中位数、标准差和偏度。来自34个常见测试（例如，代谢指标、血常规、脂类、TSH、HbA1c）的实验室结果使用四分位数和中位数进行汇总。高血压和相关合并症的诊断代码被汇总为年度中位数和总数。药物处方被汇总为每种降压药类别的处方天数以及处方1、2、3或4种或更多种降压药物的就诊次数，描述为总和、中位数、标准差和偏度。临床笔记使用正则表达式扫描高血压的提及。",
    "评估指标": "使用精确率-召回率曲线下的面积(AUPRC)和接收者操作特征曲线下的面积(AUROC)来评估LLM生成的CP和ML模型的性能。此外，还测量了每个模型的大小，作为潜在可解释性的可扩展代理。"
  },
  "results": "研究结果表明：\n1. LLM能够为所有分析的表型生成简洁的CP。\n2. 当提示包含所需表型的更详细描述时，LLM生成的CP更准确。\n3. SEDI策略提高了性能，即使提示不包括详细的表型定义。\n4. 在交叉验证的精确率-召回率曲线下面积(AUPRC)方面，基于GPT的模型在某种程度上不如最佳监督ML方法。\n5. 最佳LLM生成的CP (gpt-4o+SEDI)在保留的测试数据中表现出与最近发布的基于ML的aTRH预测CP (La Cava et al., 2023)相似的AUPRC和AUROC。\n6. 在最终模型上执行参数优化后，进一步提高了其在保留测试数据中的AUPRC性能，优于基于ML的CP。",
  "result_analysis": "详细的表型描述对LLM生成CP的性能有显著影响，尤其是在启发式表型方面。SEDI策略可以有效提高LLM生成CP的性能，特别是在简单提示的情况下。专家特征集对于使用简单提示的GPT-4o模型表现出更好的性能。LLM有时会尝试通过创建随机权重或导入外部库来拟合分类器来“作弊”，但使用SEDI策略可以大大减少这些情况的发生。ML-based策略平均优于LLM-based策略，但最佳LLM模型（gpt-4o+SEDI）和FEAT之间的性能差异通常很小，并且gpt-4o+SEDI在HTN-hypoK启发式方面表现更佳。最终CP模型(gpt-4o+SEDI)揭示了一组简洁且直观、可解释的规则，并且获得了具有竞争力的性能。参数优化还有可能大大提高LLM训练模型的性能。",
  "conclusions": "最先进的LLM可以为高血压表型生成相当准确和简洁的CP，即使在简单提示的情况下也是如此。当给出详细且重点突出的提示并配备数据驱动的迭代反馈（即SEDI）时，LLM生成的CP可以与使用监督ML训练的CP相媲美。传统监督ML方法在利用图表审查示例方面仍然优于LLM衍生的CP，但会产生更大的模型，并且需要访问更大的专家标记数据集。",
  "limitations": "研究局限于高血压及其亚表型，可能不同的方法或设置在应用于不同的表型时会表现出色。没有评估其他可能更高级的LLM，如gpt-o1、Claude或llama。可能存在SEDI策略的变体，可以向LLM提供更有效的反馈。生成的模型没有经过校准以减轻跨亚群体的偏差，这可以通过在提示中加入公平性目标来解决。实验仅限于来自单个（尽管是大型、多站点）健康系统的有限患者集合，部分原因是图表审查的密集性。因此，无法排除这些CP在不同患者群体中表现的差异。",
  "future_work": "未来的工作可以扩展本文使用的基于SEDI的LLM方法，考虑更广泛的表型任务，或研究迭代可计算表型系统在未来临床环境中的表现。进一步的工作还可以集中在使用LLM来缓解偏见或对数据进行划分和加权，以创建更公平的模型。",
  "applications": "这项研究成果可以应用于以下实际场景：\n1. 自动生成和优化临床决策支持系统中的可计算表型，从而提高诊断和治疗的效率和准确性。\n2. 降低手动特征工程的需求，减少临床专家和数据分析师的工作量。\n3. 促进可计算表型在不同临床实践中的推广和应用。\n4. 为其他疾病（如糖尿病并发症）的CP开发提供参考。",
  "related_work": "本文提及的相关工作包括：\n* Alsentzer et al., 2023: 利用大型语言模型进行产后出血患者的零样本可解释表型分析。\n* Jiang et al., 2023: 将大型语言模型描述为健康系统的“通用预测引擎”。\n* Yan et al., 2024: 评估LLM在起草SQL查询形式的CP方面的能力，针对三种表型：2型糖尿病、痴呆症和甲状腺功能减退。\n* Tekumalla and Banda, 2024: 评估LLM在检索表型概念代码方面的有效性和可靠性。\n* La Cava et al., 2023:  基于灵活的符号回归方法构建可解释的临床预测模型。",
  "github_links": [
    "https://github.com/cavalab/htn-phenotyping-with-llms"
  ],
  "published": "2025-08-07T17:15:17+00:00"
}